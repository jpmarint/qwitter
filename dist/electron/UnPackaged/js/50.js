"use strict";(globalThis["webpackChunkqwitter"]=globalThis["webpackChunkqwitter"]||[]).push([[50],{4050:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var n=a(9835),o=a(1957),l=a(6970);const s={class:"q-py-lg q-px-md row items-end q-col-gutter-md"},i={class:"col"},d=(0,n._)("img",{src:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50"},null,-1),c={class:"col-shrink"},r=(0,n._)("img",{src:"https://cdn.quasar.dev/img/avatar2.jpg"},null,-1),u=(0,n._)("strong",null,"Janet Smith",-1),w={class:"text-grey-7"},m=(0,n._)("br",{class:"lt-md"},null,-1),f=(0,n._)("span",{class:"gt-sm"}," •  ",-1),p={class:"qweet-icons row justify-between q-mt-sm"};function h(e,t,a,h,v,g){const q=(0,n.up)("q-avatar"),Q=(0,n.up)("q-input"),b=(0,n.up)("q-btn"),_=(0,n.up)("q-separator"),y=(0,n.up)("q-item-section"),W=(0,n.up)("q-item-label"),C=(0,n.up)("q-item"),k=(0,n.up)("q-list"),Z=(0,n.up)("q-scroll-area"),x=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(x,{class:"relative-position"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{class:"absolute full-widht full-height"},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n._)("div",i,[(0,n.Wm)(Q,{"bottom-slots":"",class:"new-qweet",modelValue:e.newQweetContent,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newQweetContent=t),placeholder:"What's happening?",counter:"",maxlength:"280",autogrow:""},{before:(0,n.w5)((()=>[(0,n.Wm)(q,{size:"xl"},{default:(0,n.w5)((()=>[d])),_:1})])),_:1},8,["modelValue"])]),(0,n._)("div",c,[(0,n.Wm)(b,{onClick:e.addNewQweet,unelevated:"",class:"q-mb-lg",rounded:"","no-caps":"",color:"primary",label:"Qweet",disable:!e.newQweetContent},null,8,["onClick","disable"])])]),(0,n.Wm)(_,{class:"divider",size:"10px",color:"grey-2"}),(0,n.Wm)(k,{separator:""},{default:(0,n.w5)((()=>[(0,n.Wm)(o.W3,{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut slow"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.qweetsWithRelativeDate,((t,a)=>((0,n.wg)(),(0,n.j4)(C,{key:t.date,class:"q-py-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{avatar:"",top:""},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{size:"xl"},{default:(0,n.w5)((()=>[r])),_:1})])),_:1}),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"text-subtitle1"},{default:(0,n.w5)((()=>[u,(0,n._)("span",w,[(0,n.Uk)("   @janey_smith   "),m,f,(0,n.Uk)(" "+(0,l.zw)(t.relativeDate),1)])])),_:2},1024),(0,n.Wm)(W,{class:"qweet-content text-body1"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(t.content),1)])),_:2},1024),(0,n._)("div",p,[(0,n.Wm)(b,{flat:"",round:"",color:"grey",size:"sm",icon:"far fa-comment"}),(0,n.Wm)(b,{flat:"",round:"",color:"grey",size:"sm",icon:"fas fa-retweet"}),(0,n.Wm)(b,{flat:"",round:"",color:"grey",size:"sm",icon:"far fa-heart"}),(0,n.Wm)(b,{onClick:t=>e.deleteQweet(a),flat:"",round:"",color:"grey",size:"sm",icon:"fas fa-trash"},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}var v=a(9327),g=a(338),q=a(8109),Q=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{d(n.next(e))}catch(t){l(t)}}function i(e){try{d(n["throw"](e))}catch(t){l(t)}}function d(e){e.done?a(e.value):o(e.value).then(s,i)}d((n=n.apply(e,t||[])).next())}))};const b=(0,n.aZ)({name:"PageHome",data(){return{newQweetContent:"",qweets:[]}},methods:{relativeDate(e){return isNaN(e)?"Invalid date":(0,v.Z)(new Date(e),new Date,{addSuffix:!0})},addNewQweet(){return Q(this,void 0,void 0,(function*(){let e={content:this.newQweetContent,date:Date.now()};yield(0,q.ET)((0,q.hJ)(g["default"],"Qweets"),e),this.newQweetContent=""}))},deleteQweet(e){return Q(this,void 0,void 0,(function*(){yield(0,q.oe)((0,q.JU)(g["default"],"Qweets","DC"))}))}},computed:{qweetsWithRelativeDate(){return this.qweets.map((e=>Object.assign(Object.assign({},e),{relativeDate:this.relativeDate(Number(e.date))})))}},mounted(){return Q(this,void 0,void 0,(function*(){const e=(0,q.hJ)(g["default"],"Qweets");(0,q.cf)(e,(e=>{e.docChanges().forEach((e=>{if("added"===e.type){console.log("New qweet: ",e.doc.data());const t={id:e.doc.id,content:e.doc.data().content,date:e.doc.data().date};this.qweets.unshift(t)}"modified"===e.type&&console.log("Modified qweet: ",e.doc.data()),"removed"===e.type&&console.log("Removed qweet: ",e.doc.data())}))}))}))}});var _=a(1639),y=a(9885),W=a(6663),C=a(6867),k=a(1357),Z=a(9379),x=a(926),D=a(3246),z=a(490),j=a(1233),I=a(3115),N=a(9984),S=a.n(N);const U=(0,_.Z)(b,[["render",h]]),J=U;S()(b,"components",{QPage:y.Z,QScrollArea:W.Z,QInput:C.Z,QAvatar:k.Z,QBtn:Z.Z,QSeparator:x.Z,QList:D.Z,QItem:z.Z,QItemSection:j.Z,QItemLabel:I.Z})}}]);